## 1. UI 鉴权终端（受控会话）

- [x] 1.1 新增 `ui_shell_manager`，实现单会话管理、白名单命令映射、会话生命周期管理
- [x] 1.2 实现会话超时（idle timeout + hard TTL）与异常清理
- [x] 1.3 复用 managed runtime 环境注入，确保在本地/容器一致运行

## 2. 路由与页面集成

- [x] 2.1 在 `ui.py` 新增鉴权终端页面路由与会话控制接口
- [x] 2.2 新增会话输出读取接口（HTTP polling，增量 cursor 读取）
- [x] 2.3 新增 `engine_auth_shell.html` 模板并接入实时输出视图

## 3. UI 首页美化

- [x] 3.1 将首页 Engine/Run 入口从文本链接改为卡片化入口
- [x] 3.2 保持现有 `/ui` 信息结构和导航语义不回退

## 4. Windows 完整支持

- [x] 4.1 引入 `pywinpty` 依赖并在服务层接入
- [x] 4.2 补充 `pywinpty` 缺失时的明确错误信息

## 5. 测试与文档

- [x] 5.1 新增/补充单元测试：互斥、白名单、超时、鉴权保护
- [x] 5.2 运行相关单元测试与类型检查
- [x] 5.3 更新 README 与部署文档，说明 UI 鉴权终端与 `pywinpty` 依赖
