## 1. Run 预览判定逻辑修复

- [x] 1.1 在 Run 观测预览链路中引入“`NUL` 字节 + 控制字符比例”二进制启发式，移除“UTF-8 解码失败即二进制”的判定
- [x] 1.2 保持超大文件降级与安全路径约束行为不变，确保仅调整文本/二进制识别语义

## 2. 编码回退与元信息

- [x] 2.1 为 Run 预览文本解码增加回退顺序：`utf-8`、`utf-8-sig`、`gb18030`、`big5`
- [x] 2.2 在预览返回中标记命中编码（meta），并保持前端模板渲染兼容

## 3. 测试与回归

- [x] 3.1 新增/更新 Run 观测服务单测：gb18030/big5/utf-8-sig 文本可预览
- [x] 3.2 新增/更新二进制判定单测：`NUL` 与高控制字符比例样本返回“不可预览”
- [x] 3.3 运行 UI 路由与 Run 观测相关测试，确认“非法路径拒绝”“大文件降级”“日志 tail”无回归

## 4. 质量校验

- [x] 4.1 运行 `conda run --no-capture-output -n DataProcessing python -u -m mypy server`
- [x] 4.2 运行与本改动相关的 pytest 子集并记录结果
