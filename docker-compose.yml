services:
  skill-runner:
    build: .
    ports:
      - "8000:8000"
    environment:
      SKILL_RUNNER_DATA_DIR: /data
      UV_CACHE_DIR: /opt/cache/uv_cache
      UV_PROJECT_ENVIRONMENT: /opt/cache/uv_venv
      NPM_CONFIG_PREFIX: /opt/cache/npm
    volumes:
      - ./skills:/app/skills
      - ./agent_config:/opt/config
      - skill-runner_cache:/opt/cache
      # Optional: persist run/request data for debugging
      # - ./data:/data
volumes:
  skill-runner_cache:
